# Example Custom Validation Ranges Template
# 
# This file demonstrates how to create custom validation ranges for:
# - Special populations (elderly, children, clinical)
# - Novel activities not in the standard set
# - Equipment-specific constraints
#
# Instructions:
# 1. Copy this file and rename for your use case
# 2. Update the metadata section
# 3. Define ranges for your tasks and variables
# 4. Save in this directory
# 5. Use with --config-dir flag when validating

# ==============================================================================
# METADATA SECTION
# ==============================================================================
version: '1.0'                           # Format version (keep as 1.0)
generated: '2024-01-15 10:30:00'        # When you created this file
dataset: 'your_dataset_name'            # Dataset used to determine ranges
method: 'expert_defined'                # How ranges were determined:
                                        # - percentile_95: Statistical 95th percentile
                                        # - mean_3std: Mean Â± 3 standard deviations
                                        # - expert_defined: Based on domain knowledge
                                        # - literature_based: From published studies
                                        # - mixed: Combination of methods

# Optional metadata
description: 'Validation ranges for [your population/activity]'
population: 'elderly_adults'            # Population characteristics
age_range: '65-85'                      # Age range if relevant
sample_size: 42                         # Number of subjects
notes: 'Reduced ROM expected due to age-related changes'

# ==============================================================================
# TASK DEFINITIONS
# ==============================================================================
tasks:
  # --------------------------------------------------------------------------
  # Standard Task Example: Modified for Special Population
  # --------------------------------------------------------------------------
  level_walking:                        # Standard task name
    phases:
      '0':                              # Heel strike (0% of gait cycle)
        # Kinematic variables (angles in radians)
        hip_flexion_angle_ipsi_rad:
          min: 0.2                      # Reduced from standard (0.35)
          max: 0.65                     # Reduced from standard (0.85)
        knee_flexion_angle_ipsi_rad:
          min: -0.05
          max: 0.15
        ankle_flexion_angle_ipsi_rad:
          min: -0.15
          max: 0.25
        
        # Kinetic variables (moments in Nm)
        hip_flexion_moment_ipsi_Nm:
          min: -30                      # Reduced strength
          max: 80                       # Reduced strength
        knee_flexion_moment_ipsi_Nm:
          min: -20
          max: 60
          
      '25':                             # Mid-stance (25% of gait cycle)
        hip_flexion_angle_ipsi_rad:
          min: -0.1
          max: 0.5
        knee_flexion_angle_ipsi_rad:
          min: 0.05
          max: 0.45
          
      '50':                             # Toe-off (50% of gait cycle)
        hip_flexion_angle_ipsi_rad:
          min: -0.3
          max: 0.2
        knee_flexion_angle_ipsi_rad:
          min: 0.0
          max: 0.25
          
      '75':                             # Mid-swing (75% of gait cycle)
        hip_flexion_angle_ipsi_rad:
          min: 0.15
          max: 0.6
        knee_flexion_angle_ipsi_rad:
          min: 0.7                      # Reduced knee flexion in swing
          max: 1.1                      # (standard might be 0.9-1.3)

  # --------------------------------------------------------------------------
  # Novel Activity Example: Not in Standard Set
  # --------------------------------------------------------------------------
  sit_stand_transfer:                   # Custom task name
    phases:
      '0':                              # Initiation phase
        hip_flexion_angle_ipsi_rad:
          min: 1.2                      # Deep hip flexion when seated
          max: 1.8
        knee_flexion_angle_ipsi_rad:
          min: 1.4
          max: 1.7
        trunk_flexion_angle_rad:        # Additional variable
          min: 0.3
          max: 0.8
          
      '25':                             # Rise phase
        hip_flexion_angle_ipsi_rad:
          min: 0.8
          max: 1.4
        knee_flexion_angle_ipsi_rad:
          min: 1.0
          max: 1.5
        # Vertical ground reaction force during push-off
        grf_vertical_ipsi_N:
          min: 400                      # Body weight dependent
          max: 800
          
      '50':                             # Extension phase
        hip_flexion_angle_ipsi_rad:
          min: 0.3
          max: 0.9
        knee_flexion_angle_ipsi_rad:
          min: 0.2
          max: 0.8
          
      '75':                             # Stabilization phase
        hip_flexion_angle_ipsi_rad:
          min: -0.1
          max: 0.3
        knee_flexion_angle_ipsi_rad:
          min: -0.05
          max: 0.2

  # --------------------------------------------------------------------------
  # Equipment-Specific Example: Prosthetic Limb
  # --------------------------------------------------------------------------
  prosthetic_walking:
    phases:
      '0':
        # Prosthetic side (ipsilateral)
        knee_flexion_angle_ipsi_rad:
          min: -0.1                     # Limited by prosthetic design
          max: 0.05                     # Minimal stance flexion
        ankle_flexion_angle_ipsi_rad:
          min: -0.2                     # Depends on prosthetic foot
          max: 0.1
          
        # Sound side (contralateral) - may show compensation
        knee_flexion_angle_contra_rad:
          min: 0.0
          max: 0.3
        hip_flexion_angle_contra_rad:
          min: 0.3
          max: 0.9                      # Increased for compensation

# ==============================================================================
# USAGE NOTES
# ==============================================================================
# 
# To use this file:
# python contributor_tools/create_dataset_validation_report.py \
#     --dataset your_dataset_phase.parquet \
#     --config-dir contributor_scripts/validation_ranges/
#
# The validator will use your custom ranges instead of the defaults.
#
# Tips:
# - Start with generous ranges and tighten based on results
# - Consider bilateral differences for asymmetric conditions
# - Account for measurement system differences (mocap vs IMU)
# - Document reasoning for non-standard ranges
# - Test on a subset before validating entire dataset